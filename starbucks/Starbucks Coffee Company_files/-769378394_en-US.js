(function(d){function b(e,g,f,i){var h=e[g];if(d.isFunction(h)){try{return h.call(f,i)}catch(j){if(e.alert){alert("Error calling scrollable."+g+": "+j)}else{throw j}return false}}return true}var a=null;function c(h,s){var q=this;if(!a){a=q}var f=d(h.children("ul"),h),n=0;f.wrap('<div class="scrollable_holder"></div>');if(s.navAdded){var p=s.prev.replace(".","");h.append('<a class="'+p+'" href="#previous">Previous</a>');var t=h.children(s.prev);var o=s.next.replace(".","");h.append('<a class="'+o+'" href="#next">Next</a>');var m=h.children(s.next)}if(s.pageNavAdded){var e=s.prevPage.replace(".","");h.append('<a class="'+e+'" href="#previous-page">Previous Page</a>');var k=h.children(s.prevPage);var j=s.nextPage.replace(".","");h.append('<a class="'+j+'" href="#next-page">Next Page</a>');var r=h.children(s.nextPage)}if(s.pagerAdded){var l=s.pager.replace(".","");h.after('<div class="'+l+'"></div>');var g=h.siblings(s.pager)}d.extend(q,{getVersion:function(){return[1,0,1]},getIndex:function(){return n},getConf:function(){return s},getSize:function(){return q.getItems().size()},getPageAmount:function(){return Math.ceil(this.getSize()/s.size)},getPageIndex:function(){return Math.ceil(n/s.size)},getRoot:function(){return h},getItemWrap:function(){return f},getItems:function(){return f.children()},seekTo:function(E,w,D){w=w||s.speed;if(d.isFunction(w)){D=w;w=s.speed}if(E<0){E=0}if(E>q.getSize()-s.size){return q}var A=q.getItems().eq(E);var C=A.position();if(!A.length){return q}if(b(s,"onBeforeSeek",q,E)===false){return q}var F;if(s.vertical){F={top:-(C.top)}}else{F={left:-(C.left)}}f.animate(F,w,s.easing,D?function(){D.call(q)}:null);if(s.pagerAdded){if(g.length){var z=s.activeClass;var x=Math.ceil(E/s.size);x=Math.min(x,g.children().length-1);g.children().removeAttr("class").eq(x).addClass(z)}}if(s.navAdded){var y=t;var B=m}if(s.pageNavAdded){y=k;B=r}if(s.navAdded&&s.pageNavAdded){y=t.add(k);B=m.add(r)}if(y&&B){if(E===0){y.addClass(s.disabledClass)}else{y.removeClass(s.disabledClass)}if(E>=q.getSize()-s.size){B.addClass(s.disabledClass)}else{B.removeClass(s.disabledClass)}}a=q;n=E;b(s,"onSeek",q,E);return q},move:function(w,z,x){var y=n+w;if(s.loop&&y>(q.getSize()-s.size)){y=0}return this.seekTo(y,z,x)},next:function(x,w){return this.move(1,x,w)},prev:function(x,w){return this.move(-1,x,w)},movePage:function(w,y,x){return this.move(s.size*w,y,x)},setPage:function(y,w,A){var x=s.size;var B=x*y;var z=B+x>=this.getSize();if(z){B=this.getSize()-s.size}return this.seekTo(B,w,A)},prevPage:function(x,w){return this.setPage(this.getPageIndex()-1,x,w)},nextPage:function(x,w){return this.setPage(this.getPageIndex()+1,x,w)},seekStart:function(x,w){return this.seekTo(0,x,w)},seekEnd:function(x,w){return this.seekTo(this.getSize()-s.size,x,w)},reload:function(){return v()},click:function(C,w,B){var A=q.getItems().eq(C);var y=s.activeClass;if(!A.hasClass(y)&&(C>=0||C<this.getSize())){A.siblings("li."+y+"").removeClass(y);A.siblings('li[class=""]').removeAttr("class");A.addClass(y);var z=Math.floor(s.size/2);var x=C-z;if(x>q.getSize()-s.size){x--}if(x!==C){return this.seekTo(x,w,B)}}return q}});if(s.mousewheel){if(d.isFunction(d.fn.mousewheel)){h.bind("mousewheel.scrollable",function(w,y){var x=d.browser.opera?1:-1;q.move(y>0?x:-x,50);return false})}}if(s.navAdded){t.addClass(s.disabledClass).click(function(){q.prev();return false});m.click(function(){q.next();return false})}if(s.pageNavAdded){r.click(function(){q.nextPage();return false});k.addClass(s.disabledClass).click(function(){q.prevPage();return false})}if(s.keyboard){d(document).keydown(function(w){var x=a;if(!x){return}if(s.vertical){switch(w.keyCode){case 38:x.move(-1);return false;case 40:x.move(1);return false}}else{switch(w.keyCode){case 37:x.move(-1);return false;case 39:x.move(1);return false}}})}function v(){if(!s.vertical){var x=0;d(".scrollable ul li").each(function(z,y){x+=d(y).outerWidth(true)});f.css("width",x+16)}if(s.pagerAdded){g.each(function(){var z=d(this);function A(D){var E=d(this);E.addClass(s.activeClass);q.setPage((E.attr("href").replace("#set","")-1));return false}if(z.is(":empty")||z.data("me")===q){z.empty();z.data("me",q);for(var B=0;B<q.getPageAmount();B++){var y=d("<"+s.pagerItem+">"+(B+1)+"</a>").attr("href","#set"+(B+1)).click(A);if(B===0){y.addClass(s.activeClass)}z.append(y)}}else{var C=z.children();C.each(function(D){var E=d(this);E.attr("href",D);if(D===0){E.addClass(s.activeClass)}E.click(function(){E.addClass(s.activeClass);q.setPage(E.attr("href"))})})}})}if(q.getPageAmount()<2){if(s.navAdded){var w=m}if(s.pageNavAdded){w=r}if(s.navAdded&&s.pageNavAdded){w=m.add(r)}if(w){w.addClass(s.disabledClass)}}if(s.clickable){q.getItems().children().each(function(y,A){var z=d(this);if(!z.data("set")){z.bind("click.scrollable",function(){q.click(y)});z.data("set",true)}})}if(s.hoverClass){q.getItems().hover(function(){d(this).addClass(s.hoverClass)},function(){if(d(this).attr("class")===s.hoverClass){d(this).removeAttr("class")}else{d(this).removeClass(s.hoverClass)}})}return q}v();var u=null;function i(){u=setInterval(function(){q.next()},s.interval)}if(s.interval>0){h.hover(function(){clearInterval(u)},function(){i()});i()}}jQuery.prototype.scrollable=function(e){var g={size:4,vertical:false,clickable:true,loop:false,interval:0,speed:400,keyboard:false,mousewheel:false,activeClass:"selected",disabledClass:"disabled",hoverClass:null,easing:null,navAdded:true,prev:".prev",next:".next",pageNavAdded:false,prevPage:".prev_page",nextPage:".next_page",pagerAdded:false,pager:".pager",pagerItem:"a",onBeforeSeek:null,onSeek:null,alert:true};d.extend(g,e);var f=this.eq(typeof e==="number"?e:0).data("scrollable");if(f){return f}this.each(function(){var h=new c(d(this),g);d(this).data("scrollable",h)});return this}})(jQuery);if(typeof asual=="undefined"){var asual={}}if(typeof asual.util=="undefined"){asual.util={}}asual.util.Browser=new function(){var g=navigator.userAgent.toLowerCase(),i=/webkit/.test(g),l=/opera/.test(g),h=/msie/.test(g)&&!/opera/.test(g),k=/mozilla/.test(g)&&!/(compatible|webkit)/.test(g),j=parseFloat(h?g.substr(g.indexOf("msie")+4):(g.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1]);this.toString=function(){return"[class Browser]"};this.getVersion=function(){return j};this.isMSIE=function(){return h};this.isSafari=function(){return i};this.isOpera=function(){return l};this.isMozilla=function(){return k}};asual.util.Events=new function(){var m="DOMContentLoaded",s="onstop",t=window,u=document,l=[],n=asual.util,r=n.Browser,q=r.isMSIE(),p=r.isSafari();this.toString=function(){return"[class Events]"};this.addListener=function(b,c,a){l.push({o:b,t:c,l:a});if(!(c==m&&(q||p))){if(b.addEventListener){b.addEventListener(c,a,false)}else{if(b.attachEvent){b.attachEvent("on"+c,a)}}}};this.removeListener=function(b,a,c){for(var e=0,d;d=l[e];e++){if(d.o==b&&d.t==a&&d.l==c){l.splice(e,1);break}}if(!(a==m&&(q||p))){if(b.removeEventListener){b.removeEventListener(a,c,false)}else{if(b.detachEvent){b.detachEvent("on"+a,c)}}}};var v=function(){for(var b=0,a;a=l[b];b++){if(a.t!=m){n.Events.removeListener(a.o,a.t,a.l)}}};var o=function(){if(u.readyState=="interactive"){function a(){u.detachEvent(s,a);v()}u.attachEvent(s,a);t.setTimeout(function(){u.detachEvent(s,a)},0)}};if(q||p){(function(){try{if((q&&u.body)||!/loaded|complete/.test(u.readyState)){u.documentElement.doScroll("left")}}catch(b){return setTimeout(arguments.callee,0)}for(var a=0,b;b=l[a];a++){if(b.t==m){b.l.call(null)}}})()}if(q){t.attachEvent("onbeforeunload",o)}this.addListener(t,"unload",v)};asual.util.Functions=new function(){this.toString=function(){return"[class Functions]"};this.bind=function(j,g,l){for(var h=2,k,i=[];k=arguments[h];h++){i.push(k)}return function(){return j.apply(g,i)}}};var SWFAddressEvent=function(e){this.toString=function(){return"[object SWFAddressEvent]"};this.type=e;this.target=[SWFAddress][0];this.value=SWFAddress.getValue();this.path=SWFAddress.getPath();this.pathNames=SWFAddress.getPathNames();this.parameters={};var g=SWFAddress.getParameterNames();for(var f=0,h=g.length;f<h;f++){this.parameters[g[f]]=SWFAddress.getParameter(g[f])}this.parameterNames=g};SWFAddressEvent.INIT="init";SWFAddressEvent.CHANGE="change";SWFAddressEvent.INTERNAL_CHANGE="internalChange";SWFAddressEvent.EXTERNAL_CHANGE="externalChange";var SWFAddress=new function(){var _getHash=function(){var index=_l.href.indexOf("#");return index!=-1?_ec(_dc(_l.href.substr(index+1))):""};var _getWindow=function(){try{top.document;return top}catch(e){return window}};var _strictCheck=function(value,force){if(_opts.strict){value=force?(value.substr(0,1)!="/"?"/"+value:value):(value==""?"/":value)}return value};var _ieLocal=function(value,direction){return(_msie&&_l.protocol=="file:")?(direction?_value.replace(/\?/,"%3F"):_value.replace(/%253F/,"?")):value};var _searchScript=function(el){if(el.childNodes){for(var i=0,l=el.childNodes.length,s;i<l;i++){if(el.childNodes[i].src){_url=String(el.childNodes[i].src)}if(s=_searchScript(el.childNodes[i])){return s}}}};var _titleCheck=function(){if(_d.title!=_title&&_d.title.indexOf("#")!=-1){_d.title=_title}};var _listen=function(){if(!_silent){var hash=_getHash();var diff=!(_value==hash);if(_safari&&_version<523){if(_length!=_h.length){_length=_h.length;if(typeof _stack[_length-1]!=UNDEFINED){_value=_stack[_length-1]}_update.call(this,false)}}else{if(_msie&&diff){if(_version<7){_l.reload()}else{this.setValue(hash)}}else{if(diff){_value=hash;_update.call(this,false)}}}if(_msie){_titleCheck.call(this)}}};var _bodyClick=function(e){if(_popup.length>0){var popup=window.open(_popup[0],_popup[1],eval(_popup[2]));if(typeof _popup[3]!=UNDEFINED){eval(_popup[3])}}_popup=[]};var _swfChange=function(){for(var i=0,id,obj,value=SWFAddress.getValue(),setter="setSWFAddressValue";id=_ids[i];i++){obj=document.getElementById(id);if(obj){if(obj.parentNode&&typeof obj.parentNode.so!=UNDEFINED){obj.parentNode.so.call(setter,value)}else{if(!(obj&&typeof obj[setter]!=UNDEFINED)){var objects=obj.getElementsByTagName("object");var embeds=obj.getElementsByTagName("embed");obj=((objects[0]&&typeof objects[0][setter]!=UNDEFINED)?objects[0]:((embeds[0]&&typeof embeds[0][setter]!=UNDEFINED)?embeds[0]:null))}if(obj){obj[setter](value)}}}else{if(obj=document[id]){if(typeof obj[setter]!=UNDEFINED){obj[setter](value)}}}}};var _jsDispatch=function(type){this.dispatchEvent(new SWFAddressEvent(type));type=type.substr(0,1).toUpperCase()+type.substr(1);if(typeof this["on"+type]==FUNCTION){this["on"+type]()}};var _jsInit=function(){if(_util.Browser.isSafari()){_d.body.addEventListener("click",_bodyClick)}_jsDispatch.call(this,"init")};var _jsChange=function(){_swfChange();_jsDispatch.call(this,"change")};var _update=function(internal){_jsChange.call(this);if(internal){_jsDispatch.call(this,"internalChange")}else{_jsDispatch.call(this,"externalChange")}_st(_functions.bind(_track,this),10)};var _track=function(){var value=(_l.pathname+(/\/$/.test(_l.pathname)?"":"/")+this.getValue()).replace(/\/\//,"/").replace(/^\/$/,"");var fn=_t[_opts.tracker];if(typeof fn==FUNCTION){fn(value)}else{if(typeof _t.pageTracker!=UNDEFINED&&typeof _t.pageTracker._trackPageview==FUNCTION){_t.pageTracker._trackPageview(value)}else{if(typeof _t.urchinTracker==FUNCTION){_t.urchinTracker(value)}}}};var _htmlWrite=function(){var doc=_frame.contentWindow.document;doc.open();doc.write("<html><head><title>"+_d.title+"</title><script>var "+ID+' = "'+_getHash()+'";</script></head></html>');doc.close()};var _htmlLoad=function(){var win=_frame.contentWindow;var src=win.location.href;_value=(typeof win[ID]!=UNDEFINED?win[ID]:"");if(_value!=_getHash()){_update.call(SWFAddress,false);_l.hash=_ieLocal(_value,TRUE)}};var _load=function(){if(!_loaded){_loaded=TRUE;if(_msie&&_version<8){var frameset=_d.getElementsByTagName("frameset")[0];_frame=_d.createElement((frameset?"":"i")+"frame");if(frameset){frameset.insertAdjacentElement("beforeEnd",_frame);frameset[frameset.cols?"cols":"rows"]+=",0";_frame.src="javascript:false";_frame.noResize=true;_frame.frameBorder=_frame.frameSpacing=0}else{_frame.src="javascript:false";_frame.style.display="none";_d.body.insertAdjacentElement("afterBegin",_frame)}_st(function(){_events.addListener(_frame,"load",_htmlLoad);if(typeof _frame.contentWindow[ID]==UNDEFINED){_htmlWrite()}},50)}else{if(_safari){if(_version<418){_d.body.innerHTML+='<form id="'+ID+'" style="position:absolute;top:-9999px;" method="get"></form>';_form=_d.getElementById(ID)}if(typeof _l[ID]==UNDEFINED){_l[ID]={}}if(typeof _l[ID][_l.pathname]!=UNDEFINED){_stack=_l[ID][_l.pathname].split(",")}}}_st(_functions.bind(function(){_jsInit.call(this);_jsChange.call(this);_track.call(this)},this),1);if(_msie&&_version>=8){_d.body.onhashchange=_functions.bind(_listen,this);_si(_functions.bind(_titleCheck,this),50)}else{_si(_functions.bind(_listen,this),50)}}};var ID="swfaddress",FUNCTION="function",UNDEFINED="undefined",TRUE=true,FALSE=false,_util=asual.util,_browser=_util.Browser,_events=_util.Events,_functions=_util.Functions,_version=_browser.getVersion(),_msie=_browser.isMSIE(),_mozilla=_browser.isMozilla(),_opera=_browser.isOpera(),_safari=_browser.isSafari(),_supported=FALSE,_t=_getWindow(),_d=_t.document,_h=_t.history,_l=_t.location,_si=setInterval,_st=setTimeout,_dc=decodeURI,_ec=encodeURI,_frame,_form,_url,_title=_d.title,_length=_h.length,_silent=FALSE,_loaded=FALSE,_justset=TRUE,_juststart=TRUE,_ref=this,_stack=[],_ids=[],_popup=[],_listeners={},_value=_getHash(),_opts={history:TRUE,strict:TRUE};if(_msie&&_d.documentMode&&_d.documentMode!=_version){_version=_d.documentMode!=8?7:8}_supported=(_mozilla&&_version>=1)||(_msie&&_version>=6)||(_opera&&_version>=9.5)||(_safari&&_version>=312);if(_supported){if(_opera){history.navigationMode="compatible"}for(var i=1;i<_length;i++){_stack.push("")}_stack.push(_getHash());if(_msie&&_l.hash!=_getHash()){_l.hash="#"+_ieLocal(_getHash(),TRUE)}_searchScript(document);var _qi=_url?_url.indexOf("?"):-1;if(_qi!=-1){var param,params=_url.substr(_qi+1).split("&");for(var i=0,p;p=params[i];i++){param=p.split("=");if(/^(history|strict)$/.test(param[0])){_opts[param[0]]=(isNaN(param[1])?/^(true|yes)$/i.test(param[1]):(parseInt(param[1])!=0))}if(/^tracker$/.test(param[0])){_opts[param[0]]=param[1]}}}if(_msie){_titleCheck.call(this)}if(window==_t){_events.addListener(document,"DOMContentLoaded",_functions.bind(_load,this))}_events.addListener(_t,"load",_functions.bind(_load,this))}else{if((!_supported&&_l.href.indexOf("#")!=-1)||(_safari&&_version<418&&_l.href.indexOf("#")!=-1&&_l.search!="")){_d.open();_d.write('<html><head><meta http-equiv="refresh" content="0;url='+_l.href.substr(0,_l.href.indexOf("#"))+'" /></head></html>');_d.close()}else{_track()}}this.toString=function(){return"[class SWFAddress]"};this.back=function(){_h.back()};this.forward=function(){_h.forward()};this.up=function(){var path=this.getPath();this.setValue(path.substr(0,path.lastIndexOf("/",path.length-2)+(path.substr(path.length-1)=="/"?1:0)))};this.go=function(delta){_h.go(delta)};this.href=function(url,target){target=typeof target!=UNDEFINED?target:"_self";if(target=="_self"){self.location.href=url}else{if(target=="_top"){_l.href=url}else{if(target=="_blank"){window.open(url)}else{_t.frames[target].location.href=url}}}};this.popup=function(url,name,options,handler){try{var popup=window.open(url,name,eval(options));if(typeof handler!=UNDEFINED){eval(handler)}}catch(ex){}_popup=arguments};this.getIds=function(){return _ids};this.getId=function(index){return _ids[0]};this.setId=function(id){_ids[0]=id};this.addId=function(id){this.removeId(id);_ids.push(id)};this.removeId=function(id){for(var i=0;i<_ids.length;i++){if(id==_ids[i]){_ids.splice(i,1);break}}};this.addEventListener=function(type,listener){if(typeof _listeners[type]==UNDEFINED){_listeners[type]=[]}_listeners[type].push(listener)};this.removeEventListener=function(type,listener){if(typeof _listeners[type]!=UNDEFINED){for(var i=0,l;l=_listeners[type][i];i++){if(l==listener){break}}_listeners[type].splice(i,1)}};this.dispatchEvent=function(event){if(this.hasEventListener(event.type)){event.target=this;for(var i=0,l;l=_listeners[event.type][i];i++){l(event)}return TRUE}return FALSE};this.hasEventListener=function(type){return(typeof _listeners[type]!=UNDEFINED&&_listeners[type].length>0)};this.getBaseURL=function(){var url=_l.href;if(url.indexOf("#")!=-1){url=url.substr(0,url.indexOf("#"))}if(url.substr(url.length-1)=="/"){url=url.substr(0,url.length-1)}return url};this.getStrict=function(){return _opts.strict};this.setStrict=function(strict){_opts.strict=strict};this.getHistory=function(){return _opts.history};this.setHistory=function(history){_opts.history=history};this.getTracker=function(){return _opts.tracker};this.setTracker=function(tracker){_opts.tracker=tracker};this.getTitle=function(){return _d.title};this.setTitle=function(title){if(!_supported){return null}if(typeof title==UNDEFINED){return}if(title=="null"){title=""}title=_dc(title);_st(function(){_title=_d.title=title;if(_juststart&&_frame&&_frame.contentWindow&&_frame.contentWindow.document){_frame.contentWindow.document.title=title;_juststart=FALSE}if(!_justset&&_mozilla){_l.replace(_l.href.indexOf("#")!=-1?_l.href:_l.href+"#")}_justset=FALSE},10)};this.getStatus=function(){return _t.status};this.setStatus=function(status){if(!_supported){return null}if(typeof status==UNDEFINED){return}if(status=="null"){status=""}status=_dc(status);if(!_safari){status=_strictCheck((status!="null")?status:"",TRUE);if(status=="/"){status=""}if(!(/http(s)?:\/\//.test(status))){var index=_l.href.indexOf("#");status=(index==-1?_l.href:_l.href.substr(0,index))+"#"+status}_t.status=status}};this.resetStatus=function(){_t.status=""};this.getValue=function(){if(!_supported){return null}return _dc(_strictCheck(_ieLocal(_value,FALSE),FALSE))};this.setValue=function(value){if(!_supported){return null}if(typeof value==UNDEFINED){return}if(value=="null"){value=""}value=_ec(_dc(_strictCheck(value,TRUE)));if(value=="/"){value=""}if(_value==value){return}_justset=TRUE;_value=value;_silent=TRUE;_update.call(SWFAddress,true);_stack[_h.length]=_value;if(_safari){if(_opts.history){_l[ID][_l.pathname]=_stack.toString();_length=_h.length+1;if(_version<418){if(_l.search==""){_form.action="#"+_value;_form.submit()}}else{if(_version<523||_value==""){var evt=_d.createEvent("MouseEvents");evt.initEvent("click",TRUE,TRUE);var anchor=_d.createElement("a");anchor.href="#"+_value;anchor.dispatchEvent(evt)}else{_l.hash="#"+_value}}}else{_l.replace("#"+_value)}}else{if(_value!=_getHash()){if(_opts.history){_l.hash="#"+_dc(_ieLocal(_value,TRUE))}else{_l.replace("#"+_dc(_value))}}}if((_msie&&_version<8)&&_opts.history){_st(_htmlWrite,50)}if(_safari){_st(function(){_silent=FALSE},1)}else{_silent=FALSE}};this.getPath=function(){var value=this.getValue();if(value.indexOf("?")!=-1){return value.split("?")[0]}else{if(value.indexOf("#")!=-1){return value.split("#")[0]}else{return value}}};this.getPathNames=function(){var path=this.getPath(),names=path.split("/");if(path.substr(0,1)=="/"||path.length==0){names.splice(0,1)}if(path.substr(path.length-1,1)=="/"){names.splice(names.length-1,1)}return names};this.getQueryString=function(){var value=this.getValue(),index=value.indexOf("?");if(index!=-1&&index<value.length){return value.substr(index+1)}};this.getParameter=function(param){var value=this.getValue();var index=value.indexOf("?");if(index!=-1){value=value.substr(index+1);var p,params=value.split("&"),i=params.length,r=[];while(i--){p=params[i].split("=");if(p[0]==param){r.push(p[1])}}if(r.length!=0){return r.length!=1?r:r[0]}}};this.getParameterNames=function(){var value=this.getValue();var index=value.indexOf("?");var names=[];if(index!=-1){value=value.substr(index+1);if(value!=""&&value.indexOf("=")!=-1){var params=value.split("&"),i=0;while(i<params.length){names.push(params[i].split("=")[0]);i++}}}return names};this.onInit=null;this.onChange=null;this.onInternalChange=null;this.onExternalChange=null;(function(){var _args;if(typeof FlashObject!=UNDEFINED){SWFObject=FlashObject}if(typeof SWFObject!=UNDEFINED&&SWFObject.prototype&&SWFObject.prototype.write){var _s1=SWFObject.prototype.write;SWFObject.prototype.write=function(){_args=arguments;if(this.getAttribute("version").major<8){this.addVariable("$swfaddress",SWFAddress.getValue());((typeof _args[0]=="string")?document.getElementById(_args[0]):_args[0]).so=this}var success;if(success=_s1.apply(this,_args)){_ref.addId(this.getAttribute("id"))}return success}}if(typeof swfobject!=UNDEFINED){var _s2r=swfobject.registerObject;swfobject.registerObject=function(){_args=arguments;_s2r.apply(this,_args);_ref.addId(_args[0])};var _s2c=swfobject.createSWF;swfobject.createSWF=function(){_args=arguments;var swf=_s2c.apply(this,_args);if(swf){_ref.addId(_args[0].id)}return swf};var _s2e=swfobject.embedSWF;swfobject.embedSWF=function(){_args=arguments;if(typeof _args[8]==UNDEFINED){_args[8]={}}if(typeof _args[8].id==UNDEFINED){_args[8].id=_args[1]}_s2e.apply(this,_args);_ref.addId(_args[8].id)}}if(typeof UFO!=UNDEFINED){var _u=UFO.create;UFO.create=function(){_args=arguments;_u.apply(this,_args);_ref.addId(_args[0].id)}}if(typeof AC_FL_RunContent!=UNDEFINED){var _a=AC_FL_RunContent;AC_FL_RunContent=function(){_args=arguments;_a.apply(this,_args);for(var i=0,l=_args.length;i<l;i++){if(_args[i]=="id"){_ref.addId(_args[i+1])}}}}})()};
/*	SWFObject v2.2 <http://code.google.com/p/swfobject/> 
	is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> 
*/
var swfobject=function(){var d="undefined",n="object",S="Shockwave Flash",R="ShockwaveFlash.ShockwaveFlash",x="application/x-shockwave-flash",o="SWFObjectExprInst",O="onreadystatechange",C=window,l=document,w=navigator,i=false,U=[D],c=[],L=[],j=[],K,z,I,E,a=false,y=false,g,v,G=true,h=function(){var af=typeof l.getElementById!=d&&typeof l.getElementsByTagName!=d&&typeof l.createElement!=d,ad=w.userAgent.toLowerCase(),Z=w.platform.toLowerCase(),aa=Z?/win/.test(Z):/win/.test(ad),Y=Z?/mac/.test(Z):/mac/.test(ad),ag=/webkit/.test(ad)?parseFloat(ad.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,ae=!+"\v1",ab=[0,0,0],X=null;if(typeof w.plugins!=d&&typeof w.plugins[S]==n){X=w.plugins[S].description;if(X&&!(typeof w.mimeTypes!=d&&w.mimeTypes[x]&&!w.mimeTypes[x].enabledPlugin)){i=true;ae=false;X=X.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ab[0]=parseInt(X.replace(/^(.*)\..*$/,"$1"),10);ab[1]=parseInt(X.replace(/^.*\.(.*)\s.*$/,"$1"),10);ab[2]=/[a-zA-Z]/.test(X)?parseInt(X.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof C.ActiveXObject!=d){try{var ah=new ActiveXObject(R);if(ah){X=ah.GetVariable("$version");if(X){ae=true;X=X.split(" ")[1].split(",");ab=[parseInt(X[0],10),parseInt(X[1],10),parseInt(X[2],10)]}}}catch(ac){}}}return{w3:af,pv:ab,wk:ag,ie:ae,win:aa,mac:Y}}(),W=function(){if(!h.w3){return}if((typeof l.readyState!=d&&l.readyState=="complete")||(typeof l.readyState==d&&(l.getElementsByTagName("body")[0]||l.body))){r()}if(!a){if(typeof l.addEventListener!=d){l.addEventListener("DOMContentLoaded",r,false)}if(h.ie&&h.win){l.attachEvent(O,function(){if(l.readyState=="complete"){l.detachEvent(O,arguments.callee);r()}});if(C==top){(function(){if(a){return}try{l.documentElement.doScroll("left")}catch(X){setTimeout(arguments.callee,0);return}r()})()}}if(h.wk){(function(){if(a){return}if(!/loaded|complete/.test(l.readyState)){setTimeout(arguments.callee,0);return}r()})()}b(r)}}();function r(){if(a){return}try{var aa=l.getElementsByTagName("body")[0].appendChild(B("span"));aa.parentNode.removeChild(aa)}catch(X){return}a=true;var Y=U.length;for(var Z=0;Z<Y;Z++){U[Z]()}}function u(X){if(a){X()}else{U[U.length]=X}}function b(X){if(typeof C.addEventListener!=d){C.addEventListener("load",X,false)}else{if(typeof l.addEventListener!=d){l.addEventListener("load",X,false)}else{if(typeof C.attachEvent!=d){F(C,"onload",X)}else{if(typeof C.onload=="function"){var Y=C.onload;C.onload=function(){Y();X()}}else{C.onload=X}}}}}function D(){if(i){q()}else{f()}}function q(){var X=l.getElementsByTagName("body")[0];var aa=B(n);aa.setAttribute("type",x);var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=d){var ab=Z.GetVariable("$version");if(ab){ab=ab.split(" ")[1].split(",");h.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;f()})()}else{f()}}function f(){var ah=c.length;if(ah>0){for(var af=0;af<ah;af++){var X=c[af].id;var Y=c[af].callbackFn;var ab={success:false,id:X};if(h.pv[0]>0){var ai=m(X);if(ai){if(t(c[af].swfVersion)&&!(h.wk&&h.wk<312)){k(X,true);if(Y){ab.success=true;ab.ref=s(X);Y(ab)}}else{if(c[af].expressInstall&&H()){var ag={};ag.data=c[af].expressInstall;ag.width=ai.getAttribute("width")||"0";ag.height=ai.getAttribute("height")||"0";if(ai.getAttribute("class")){ag.styleclass=ai.getAttribute("class")}if(ai.getAttribute("align")){ag.align=ai.getAttribute("align")}var ac={};var aa=ai.getElementsByTagName("param");var ad=aa.length;for(var ae=0;ae<ad;ae++){if(aa[ae].getAttribute("name").toLowerCase()!="movie"){ac[aa[ae].getAttribute("name")]=aa[ae].getAttribute("value")}}N(ag,ac,X,Y)}else{V(ai);if(Y){Y(ab)}}}}}else{k(X,true);if(Y){var Z=s(X);if(Z&&typeof Z.SetVariable!=d){ab.success=true;ab.ref=Z}Y(ab)}}}}}function s(X){var aa=null;var Z=m(X);if(Z&&Z.nodeName=="OBJECT"){if(typeof Z.SetVariable!=d){aa=Z}else{var Y=Z.getElementsByTagName(n)[0];if(Y){aa=Y}}}return aa}function H(){return !y&&t("6.0.65")&&(h.win||h.mac)&&!(h.wk&&h.wk<312)}function N(ad,aa,Z,Y){y=true;I=Y||null;E={success:false,id:Z};var ae=m(Z);if(ae){if(ae.nodeName=="OBJECT"){K=T(ae);z=null}else{K=ae;z=Z}ad.id=o;if(typeof ad.width==d||(!/%$/.test(ad.width)&&parseInt(ad.width,10)<310)){ad.width="310"}if(typeof ad.height==d||(!/%$/.test(ad.height)&&parseInt(ad.height,10)<137)){ad.height="137"}l.title=l.title.slice(0,47)+" - Flash Player Installation";var ac=h.ie&&h.win?"ActiveX":"PlugIn",ab="MMredirectURL="+C.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ac+"&MMdoctitle="+l.title;if(typeof aa.flashvars!=d){aa.flashvars+="&"+ab}else{aa.flashvars=ab}if(h.ie&&h.win&&ae.readyState!=4){var X=B("div");Z+="SWFObjectNew";X.setAttribute("id",Z);ae.parentNode.insertBefore(X,ae);ae.style.display="none";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}p(ad,aa,Z)}}function V(Y){if(h.ie&&h.win&&Y.readyState!=4){var X=B("div");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(T(Y),X);Y.style.display="none";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(T(Y),Y)}}function T(ac){var Z=B("div");if(h.win&&h.ie){Z.innerHTML=ac.innerHTML}else{var Y=ac.getElementsByTagName(n)[0];if(Y){var X=Y.childNodes;if(X){var ab=X.length;for(var aa=0;aa<ab;aa++){if(!(X[aa].nodeType==1&&X[aa].nodeName=="PARAM")&&!(X[aa].nodeType==8)){Z.appendChild(X[aa].cloneNode(true))}}}}}return Z}function p(ac,Z,X){var Y,aa=m(X);if(h.wk&&h.wk<312){return Y}if(aa){if(typeof ac.id==d){ac.id=X}if(h.ie&&h.win){var ag="";for(var ae in ac){if(ac[ae]!=Object.prototype[ae]){if(ae.toLowerCase()=="data"){Z.movie=ac[ae]}else{if(ae.toLowerCase()=="styleclass"){ag+=' class="'+ac[ae]+'"'}else{if(ae.toLowerCase()!="classid"){ag+=" "+ae+'="'+ac[ae]+'"'}}}}}var ab="";for(var ad in Z){if(Z[ad]!=Object.prototype[ad]){ab+='<param name="'+ad+'" value="'+Z[ad]+'" />'}}aa.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ag+">"+ab+"</object>";L[L.length]=ac.id;Y=m(ac.id)}else{var ah=B(n);ah.setAttribute("type",x);for(var ai in ac){if(ac[ai]!=Object.prototype[ai]){if(ai.toLowerCase()=="styleclass"){ah.setAttribute("class",ac[ai])}else{if(ai.toLowerCase()!="classid"){ah.setAttribute(ai,ac[ai])}}}}for(var af in Z){if(Z[af]!=Object.prototype[af]&&af.toLowerCase()!="movie"){J(ah,af,Z[af])}}aa.parentNode.replaceChild(ah,aa);Y=ah}}return Y}function J(Z,X,Y){var aa=B("param");aa.setAttribute("name",X);aa.setAttribute("value",Y);Z.appendChild(aa)}function Q(Y){var X=m(Y);if(X&&X.nodeName=="OBJECT"){if(h.ie&&h.win){X.style.display="none";(function(){if(X.readyState==4){M(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function M(Y){var Z=m(Y);if(Z){for(var X in Z){if(typeof Z[X]=="function"){Z[X]=null}}Z.parentNode.removeChild(Z)}}function m(Z){var Y=null;try{Y=l.getElementById(Z)}catch(X){}return Y}function B(X){return l.createElement(X)}function F(Y,Z,X){Y.attachEvent(Z,X);j[j.length]=[Y,Z,X]}function t(Z){var X=h.pv,Y=Z.split(".");Y[0]=parseInt(Y[0],10);Y[1]=parseInt(Y[1],10)||0;Y[2]=parseInt(Y[2],10)||0;return(X[0]>Y[0]||(X[0]==Y[0]&&X[1]>Y[1])||(X[0]==Y[0]&&X[1]==Y[1]&&X[2]>=Y[2]))?true:false}function e(Z,ac,Y,ab){if(h.ie&&h.mac){return}var aa=l.getElementsByTagName("head")[0];if(!aa){return}var ad=(Y&&typeof Y=="string")?Y:"screen";if(ab){g=null;v=null}if(!g||v!=ad){var X=B("style");X.setAttribute("type","text/css");X.setAttribute("media",ad);g=aa.appendChild(X);if(h.ie&&h.win&&typeof l.styleSheets!=d&&l.styleSheets.length>0){g=l.styleSheets[l.styleSheets.length-1]}v=ad}if(h.ie&&h.win){if(g&&typeof g.addRule==n){g.addRule(Z,ac)}}else{if(g&&typeof l.createTextNode!=d){g.appendChild(l.createTextNode(Z+" {"+ac+"}"))}}}function k(Z,Y){if(!G){return}var X=Y?"visible":"hidden";if(a&&m(Z)){m(Z).style.visibility=X}else{e("#"+Z,"visibility:"+X)}}function P(X){var Y=/[\\\"<>\.;]/;var Z=Y.exec(X)!=null;return Z&&typeof encodeURIComponent!=d?encodeURIComponent(X):X}var A=function(){if(h.ie&&h.win){window.attachEvent("onunload",function(){var ab=j.length;for(var aa=0;aa<ab;aa++){j[aa][0].detachEvent(j[aa][1],j[aa][2])}var Y=L.length;for(var X=0;X<Y;X++){Q(L[X])}for(var Z in h){h[Z]=null}h=null;for(var ac in swfobject){swfobject[ac]=null}swfobject=null})}}();return{registerObject:function(Z,X,ab,aa){if(h.w3&&Z&&X){var Y={};Y.id=Z;Y.swfVersion=X;Y.expressInstall=ab;Y.callbackFn=aa;c[c.length]=Y;k(Z,false)}else{if(aa){aa({success:false,id:Z})}}},getObjectById:function(X){if(h.w3){return s(X)}},embedSWF:function(ae,aa,ac,Z,ah,ad,ag,X,ab,Y){var af={success:false,id:aa};if(h.w3&&!(h.wk&&h.wk<312)&&ae&&aa&&ac&&Z&&ah){k(aa,false);u(function(){ac+="";Z+="";var am={};if(ab&&typeof ab===n){for(var al in ab){am[al]=ab[al]}}am.data=ae;am.width=ac;am.height=Z;var ai={};if(X&&typeof X===n){for(var aj in X){ai[aj]=X[aj]}}if(ag&&typeof ag===n){for(var ak in ag){if(typeof ai.flashvars!=d){ai.flashvars+="&"+ak+"="+ag[ak]}else{ai.flashvars=ak+"="+ag[ak]}}}if(t(ah)){var an=p(am,ai,aa);if(am.id==aa){k(aa,true)}af.success=true;af.ref=an}else{if(ad&&H()){am.data=ad;N(am,ai,aa,Y);return}else{k(aa,true)}}if(Y){Y(af)}})}else{if(Y){Y(af)}}},switchOffAutoHideShow:function(){G=false},ua:h,getFlashPlayerVersion:function(){return{major:h.pv[0],minor:h.pv[1],release:h.pv[2]}},hasFlashPlayerVersion:t,createSWF:function(Y,X,Z){if(h.w3){return p(Y,X,Z)}else{return undefined}},showExpressInstall:function(Y,X,Z,aa){if(h.w3&&H()){N(Y,X,Z,aa)}},removeSWF:function(X){if(h.w3){Q(X)}},createCSS:function(aa,Z,Y,X){if(h.w3){e(aa,Z,Y,X)}},addDomLoadEvent:u,addLoadEvent:b,getQueryParamValue:function(X){var Y=l.location.search||l.location.hash;if(Y){if(/\?/.test(Y)){Y=Y.split("?")[1]}if(X==null){return P(Y)}var Z=Y.split("&");for(var aa=0;aa<Z.length;aa++){if(Z[aa].substring(0,Z[aa].indexOf("="))==X){return P(Z[aa].substring((Z[aa].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(y){var X=m(o);if(X&&K){X.parentNode.replaceChild(K,X);if(z){k(z,true);if(h.ie&&h.win){K.style.display="block"}}if(I){I(E)}}y=false}}}}();(function(c){function a(f){if(!b.test(f)){throw"'"+f+"' doesn't match to the WebVTT timestamp pattern."}var f=b.exec(f),e=f[4]/1000,e=e+parseInt(f[3],10);f[2]&&(e+=60*f[2]);f[1]&&(e+=3600*f[1]);return e}function l(h){var h=c.trim(h).split(/(?:(?:\r\n|\n){2,})/),f=[],g=[],e=0;do{0===e&&d.test(h[e])&&(e+=2);if(!k.test(h[e])){throw"An error while parsing a WebVTT cue string on cue "+(e+1)+"."}g=k.exec(h[e]);f.push({marker:g[1],from:a(g[2]),to:a(g[3]),payload:c("<p/>").text(g[4])});e+=1}while(e<h.length);return f}var b=/^(?:(\d{2,}):)?(\d{2}):(\d{2})[,.](\d{3})$/,k=/^(?:(.*)(?:\r\n|\n))?([\d:,.]+) --\> ([\d:,.]+)(?:\r\n|\n)(.*)$/,d=/^\uFEFF?WEBVTT(?: .*)?/;c.webVtt=function(h,f){var g=c(h),e=c([]);g.data("webvtt")||g.data("webvtt",l(g.html()));"number"!==c.type(f)&&(f=a(f));c.each(g.data("webvtt"),function(j,i){i.from<=f&&i.to>f&&(e=e.add(i.payload))});return e};c.fn.extend({webVtt:function(e){return c.webVtt(this[0],e)}})})(jQuery);(function(d){var c=d({});d.subscribe=function(){c.on.apply(c,arguments)},d.unsubscribe=function(){c.off.apply(c,arguments)},d.publish=function(){c.trigger.apply(c,arguments)}})(jQuery);function trace(a){}function handleMediaPlayerReady(a){$.publish("EVENT_HANDLE_MEDIA_PLAYER_READY",a)}function StarbucksVideo(){var R=this,F=false;this.currentVideoIndex=0;this.position=0;this.duration=0;this.siteLanguage="en-US";this.visible=false;this.isPlaying=false;this.volumeOn=true;this.autoPlay=false;this.playlistMetaData;this.brightcove;this.playlistID;this.player;this.overlay;this.playerReadyCallback;this.minWidthThreshold=130;this.currentUIControls=new Array();this.meta={contentID:"0",transcript:"",captions:{available:false,visible:false,data:""},cta:{text:"",url:"",image:""},stillImage:false};this.accessibility={play:"Play",pause:"Pause",transcript:"Download Transcript",closedCaptionOn:"Closed Captions: On",closedCaptionOff:"Closed Captions: Off"};this.containers={container:{},screen:{},captions:null,controls:null,poster:null};this.modules={player:{},video:{},experience:{},content:{},captions:{}};this.ui={play:{name:"UI.PLAY",visible:false,target:null,width:0},seek:{name:"UI.SEEK",visible:false,target:null,width:0},cc:{name:"UI.CC",visible:false,target:null,width:0},transcript:{name:"UI.TRANSCRIPT",visible:false,target:null,width:0}};this.UI_CONTROLS={PLAY:"PLAY",TIME:"TIME",VOLUME:"VOLUME",SEEK:"SEEK",CC:"CC",TRANSCRIPT:"TRANSCRIPT"};this.EVENTS={PLAYLIST_META_DATA_LOADED:"PLAYLIST_META_DATA_LOADED",EVENT_HANDLE_MEDIA_PLAYER_READY:"EVENT_HANDLE_MEDIA_PLAYER_READY",EVENT_INPUT_END:"EVENT_INPUT_END",EVENT_CAPTIONS_TOGGLE:"EVENT_CAPTIONS_TOGGLE",EVENT_VOLUME_TOGGLE:"EVENT_VOLUME_TOGGLE",EVENT_TOGGLE_UI_VISIBILITY:"EVENT_TOGGLE_UI_VISIBILITY",EVENT_INIT:"EVENT_INIT",EVENT_RESIZE:"EVENT_RESIZE",EVENT_UPDATE_UI_FOR_NEW_CONTENT:"EVENT_UPDATE_UI_FOR_NEW_CONTENT",MEDIA_META_CONTENT_LOADED:"MEDIA_META_CONTENT_LOADED",MEDIA_BEGIN:"MEDIA_BEGIN",MEDIA_CHANGE:"MEDIA_CHANGE",MEDIA_COMPLETE:"MEDIA_COMPLETE",MEDIA_ERROR:"MEDIA_ERROR",MEDIA_PLAY:"MEDIA_PLAY",MEDIA_BEGIN:"MEDIA_BEGIN",MEDIA_PROGRESS:"MEDIA_PROGRESS",MEDIA_STOP:"MEDIA_STOP"};this.INTENT={PLAY:"play",PAUSE:"pause",STOP:"STOP",VOLUME_TOGGLE:"VOLUME_TOGGLE",CAPTIONS_TOGGLE:"CAPTIONS_TOGGLE",GET_TRANSCRIPT:"GET_TRANSCRIPT"};this.CAPTIONS={CAPTIONS_ON:"CAPTIONS_ON",CAPTIONS_OFF:"CAPTIOS_OFF",CAPTION_EVENT:"CAPTION_EVENT",TYPE_SRT:"srt",TYPE_TRANSCRIPT:"transcript"};$.subscribe(R.EVENTS.EVENT_HANDLE_MEDIA_PLAYER_READY,function(T,W){var U="#"+W.replace("mpObject","mpContainer"),W=W,V=Number(W.replace("mpObject",""));if(R.playerReadyCallback){R.playerReadyCallback({playlistID:V,playerContainer:U,id:W})}else{sb.console.log("@EVENT_HANDLE_MEDIA_PLAYER_READY:ELSE CASE: not set")}});this.init=function(T){this.brightcove=T.brightcove;this.playlistID=T.playlistID;this.player=brightcove.api.getExperience(T.id);this.containers.container=T.playerContainer!==undefined?T.playerContainer:"";this.currentUIControls=T.controls!==undefined?T.controls:[];this.siteLanguage=T.language!==undefined?T.language:this.siteLanguage;if(T.accessibility!==undefined){this.accessibility.play=T.accessibility.play!==undefined?T.accessibility.play:this.accessibility.play;this.accessibility.pause=T.accessibility.pause!==undefined?T.accessibility.pause:this.accessibility.pause;this.accessibility.transcript=T.accessibility.transcript!==undefined?T.accessibility.transcript:this.accessibility.transcript;this.accessibility.closedCaptionOn=T.accessibility.closedCaptionOn!==undefined?T.accessibility.closedCaptionOn:this.accessibility.closedCaptionOn;this.accessibility.closedCaptionOff=T.accessibility.closedCaptionOff!==undefined?T.accessibility.closedCaptionOff:this.accessibility.closedCaptionOff}if((navigator.userAgent.match(/iPhone/i))){F=true}p();g();y();H();q();B();u();j();P();sb.rwd.onDelayedResize(function(){E()},false)};this.next=function(){var T=R.currentVideoIndex+1>=R.playlistMetaData.videos.length?0:R.currentVideoIndex+1;this.setVideoByIndex(T)};this.previous=function(){var T=R.currentVideoIndex-1<0?R.playlistMetaData.videos.length-1:R.currentVideoIndex-1;this.setVideoByIndex(T)};this.play=function(){try{R.modules.video.play()}catch(T){trace("@mediaPlayer:play:error:"+T)}};this.seek=function(U){try{R.modules.video.seek(U)}catch(T){trace("@mediaPlayer:play:error:"+T)}};this.pause=function(){try{R.modules.video.pause()}catch(T){trace("@mediaPlayer:play:error:"+T)}};this.stop=function(){try{R.modules.video.stop()}catch(T){trace("@mediaPlayer:play:error:"+T)}};this.setContentByIndex=function(U){try{this.modules.content.getMediaByID(this.playlistMetaData.videos[U].id,J)}catch(T){trace("@StarbucksVideo:setContentByIndex:-- ERROR -- "+T)}};this.setVideoByIndex=function(T){try{R.stop();R.currentVideoIndex=T;var V=R.playlistMetaData.videos[R.currentVideoIndex];R.modules.video.cueVideoByID(V.id);R.modules.content.getMediaByID(R.playlistMetaData.videos[T].id,J)}catch(U){trace("@StarbucksVideo:setVideoByIndex:-- ERROR -- "+U)}};this.getDurationByCurrentVideoIndex=function(){return R.playlistMetaData.videos[R.currentVideoIndex].length};function x(V){var U=V;if(V){var T=V.indexOf("://");if(T>-1){U=location.protocol+V.substring(T+1)}}return U}function p(){$.subscribe(R.INTENT.PLAY,d);$.subscribe(R.INTENT.PAUSE,i);$.subscribe(R.INTENT.STOP,K);$.subscribe(R.INTENT.CAPTIONS_TOGGLE,L);$.subscribe(R.INTENT.VOLUME_TOGGLE,r);$.subscribe(R.INTENT.GET_TRANSCRIPT,m)}function g(){$.subscribe(R.EVENTS.EVENT_CAPTIONS_TOGGLE,k);$.subscribe(R.EVENTS.EVENT_VOLUME_TOGGLE,t);$.subscribe(R.CAPTIONS.CAPTION_EVENT,a);$.subscribe(R.EVENTS.EVENT_RESIZE,O)}function H(){R.modules.video=R.player.getModule(R.brightcove.api.modules.APIModules.VIDEO_PLAYER);R.modules.experience=R.player.getModule(R.brightcove.api.modules.APIModules.EXPERIENCE);R.modules.content=R.player.getModule(R.brightcove.api.modules.APIModules.CONTENT)}function Q(){R.modules.video.addEventListener(R.brightcove.api.events.MediaEvent.BEGIN,z);R.modules.video.addEventListener(R.brightcove.api.events.MediaEvent.CHANGE,I);R.modules.video.addEventListener(R.brightcove.api.events.MediaEvent.COMPLETE,n);R.modules.video.addEventListener(R.brightcove.api.events.MediaEvent.ERROR,M);R.modules.video.addEventListener(R.brightcove.api.events.MediaEvent.PLAY,f);R.modules.video.addEventListener(R.brightcove.api.events.MediaEvent.PROGRESS,l);R.modules.video.addEventListener(R.brightcove.api.events.MediaEvent.STOP,b)}function y(){if(R.containers.container!=""){R.containers.container=$(R.containers.container)}R.containers.screen=$(".mediaPlayerScreen",R.containers.container);R.containers.captions=$(".captionScreen div",R.containers.screen)}function q(){R.modules.content.getPlaylistByID(R.playlistID,C)}function u(){var Y,X;$.subscribe(R.EVENTS.EVENT_UPDATE_UI_FOR_NEW_CONTENT,W);function U(){Y=$(document.createElement("div")).addClass("mediaPlayerPosterImage").appendTo($("div.mediaPlayerScreen",R.containers.container));X=$(document.createElement("img")).attr("src",R.meta.stillImage).appendTo(Y)}function T(){if($(".mediaPlayerPosterImage",R.containers.container).length>0){Y.removeClass("hide");$("img",Y).attr("src",R.meta.stillImage)}else{U();T()}}function V(){if(!Y){return}Y.addClass("hide")}function W(){if(R.meta.stillImage){T()}else{V()}}}function j(){var Z=$(".cta",R.containers.container),U,Y,V,T;$.subscribe(R.EVENTS.EVENT_UPDATE_UI_FOR_NEW_CONTENT,X);function W(){if(R.meta.cta.url){U=$(document.createElement("a")).addClass("ctaContent").attr("href",R.meta.cta.url).appendTo(Z);Y=$(document.createElement("img")).attr("src",R.meta.cta.image).appendTo(U);V=$(document.createElement("p")).html(R.meta.cta.text).appendTo(U);$(document.createElement("div")).css("clear","both").appendTo(U)}else{T=$(document.createElement("div")).addClass("ctaContent").appendTo(Z);Y=$(document.createElement("img")).attr("src",R.meta.cta.image).appendTo(T);V=$(document.createElement("p")).html(R.meta.cta.text).appendTo(T);$(document.createElement("div")).css("clear","both").appendTo(T)}}function X(){Z.empty();W()}}function P(){$("object",R.containers.screen).attr("tabindex","-1")}function B(){if(R.currentUIControls.length<1){return}var ac=$(".mediaPlayerControls",R.containers.container),X,Y;if(R.containers.controls==null){R.containers.controls=$(document.createElement("div")).addClass("mediaPlayerControlsContainer").appendTo(ac)}$.subscribe(R.EVENTS.EVENT_UPDATE_UI_FOR_NEW_CONTENT,aa);$.subscribe(R.EVENTS.MEDIA_PLAY,W);$.subscribe(R.EVENTS.EVENT_RESIZE,U);function U(){V()}function ab(){T()}function aa(ad){T();Z()}function W(){T()}function T(){if(!R.modules.video.canPlayWithoutInteraction()&&!R.isPlaying){af();return}if(R.meta.stillImage){ad();return}ae();function af(){ac.addClass("cannotInteract");$(document.createElement("div")).addClass("mediaPlayerControlEventBlocker").prependTo(ac)}function ad(){ac.addClass("hide")}function ae(){$("div.mediaPlayerControlEventBlocker",ac).remove();ac.removeClass("cannotInteract").removeClass("hide")}}function Z(){function ad(ah,ai,aj){if(ah){if(ai.name=="UI.SEEK"){aj();return}else{if(ai.target==null){var ag=aj();ai.target=ag.target;ai.visible=true}}}else{ai.visible=false;if(ai.target!=null){ai.target.remove();ai.target=null}}}var ae=true;if(F){ae=($.inArray(R.UI_CONTROLS.PLAY,R.currentUIControls)>-1&&$.inArray(R.UI_CONTROLS.TRANSCRIPT,R.currentUIControls)>-1)}ad($.inArray(R.UI_CONTROLS.PLAY,R.currentUIControls)>-1&&ae,R.ui.play,w);var af=(R.player.type!=R.brightcove.playerType.FLASH)&&R.meta.captions.available&&!F;ad($.inArray(R.UI_CONTROLS.CC,R.currentUIControls)>-1&&af,R.ui.cc,c);ad($.inArray(R.UI_CONTROLS.TRANSCRIPT,R.currentUIControls)>-1&&R.meta.captions.available,R.ui.transcript,D);if(!F){ad($.inArray(R.UI_CONTROLS.SEEK,R.currentUIControls)>-1,R.ui.seek,V)}return}function V(){var af,ae,ag,ak;var ad=$(".mediaPlayerControl",R.containers.controls).length,ai=$("div.mediaPlayerControl",R.containers.controls).last();if(ad==1){ai.css("margin-right","4px")}else{if(ai.css("margin-right")!="0px"){ai.css("margin-right","0px")}else{if(ad>2){var ah=$("div.mediaPlayerControl.mpSEEK",R.containers.controls);if(ah.css("margin-right")!="4px"){ah.css("margin-right","4px")}}}}for(var aj in R.ui){if(!af&&R.ui[aj].visible==true){ag=Number(R.ui[aj].target.css("padding-right").replace("px",""));ae=Number(R.ui[aj].target.css("margin-right").replace("px",""));ae=ae>0?ae:4;ak=af=0}if(R.ui[aj].name!="UI.SEEK"&&R.ui[aj].visible==true){af+=R.ui[aj].target.outerWidth()+ae;ak++}}af+=(ag*2)+1;G(R.containers.controls.width()-af)}}function s(){var T=$("div.mediaCC.mediaPlayerButton");if(T.hasClass("waitForReady")){T.removeClass("waitForReady")}T.addClass("waitForReady");N(function(W){var U=$("script",R.containers.container),V=U.html();$("div.mediaCC.mediaPlayerButton.waitForReady").removeClass("waitForReady");U.html(v(W));R.meta.captions.data=U});return}function o(W){var U="http://api.subply.com/content/transcript/"+R.siteLanguage+"?url=",T="http%3A%2F%2Flink.brightcove.com%2Fservices%2Fplayer%2Fbcpid605122090001%3Fbctid%3D"+R.meta.contentID,V=U+T;R.meta.transcript=V}function N(T){var U="http://testusen8.starbucks.com/resources/videocaption/bcpid605122090001%3Fbctid%3D",V=U+R.meta.contentID;$.ajax({url:V,success:T,error:function(X,Y,W){trace("@:1ERROR:---- CROSS DOMAIN ISSUE[1]")}})}function v(V){var T=/([0-9A-Za-z\-,.;:'"])(?:\r\n?|\n)([a-zA-Z0-9\-])/gi;var W=/(\n)(\d+)(\n)/gi;var U=/(\d{2}:\d{2}:\d{2},\d{3})(\n)/gi;V=V.replace(/\r\n/g,"\n");V=V.replace(/\n\n\n/g,"\n\n");V=V.replace(W,"{{N}}$2{{N}}");V=V.replace(U,"$1{{N}}");V=V.replace(T,"$1 $2");V=V.replace(/{{N}}/gi,"\n");V=V.replace(/1 /,"1\n");return V}function A(Y){var T=String(Y).split("."),U=Number(T[0]),X="900",V="00:00."+X;if(U>0){if(U<10){V="00:0"+U+"."+X}else{if(U<59){V="00:"+U+"."+X}else{var W=Math.floor(U/60);U=U-(W*60);if(W<10){if(U<10){V="0"+W+":0"+U+"."+X}else{V="0"+W+":"+U+"."+X}}else{if(U<10){V=String(W)+":0"+U+"."+X}else{V=String(W)+":"+U+"."+X}}}}}return V}function E(){$.publish(R.EVENTS.EVENT_RESIZE)}function O(){R.modules.experience.setSize(R.containers.screen.width(),R.containers.screen.height())}function L(T){R.meta.captions.active=!R.meta.captions.active;$.publish(R.EVENTS.EVENT_CAPTIONS_TOGGLE)}function k(T){if(R.meta.captions.active){R.containers.captions.show()}else{R.containers.captions.hide()}}function m(){if(R.meta.transcript!=""&&R.meta.transcript!=null){window.open(R.meta.transcript,"_blank")}}function r(){R.volumeOn=!R.volumeOn;$.publish(R.EVENTS.EVENT_VOLUME_TOGGLE)}function t(){if(R.volumeOn){e()}else{S()}}function C(T){R.playlistMetaData=T;R.duration=R.getDurationByCurrentVideoIndex();Q();R.setContentByIndex(0);$.publish(R.EVENTS.PLAYLIST_META_DATA_LOADED)}function J(T){R.meta.contentID=T.id;R.meta.cta.text=T.linkText!=""&&T.linkText!=null?T.linkText:"";R.meta.cta.url=T.linkURL!=""&&T.linkURL!=null?x(T.linkURL):false;R.meta.cta.image=T.thumbnailURL!=""&&T.thumbnailURL!=null?x(T.thumbnailURL):"";if(R.meta.cta.text==""){U()}function U(){if(R.meta.cta.text==""){if(T.longDescription!=""&&T.longDescription!=null){R.meta.cta.text=T.longDescription;return}if(T.shortDescription!=""&&T.shortDescription!=null){R.meta.cta.text=T.shortDescription;return}}}R.duration=R.getDurationByCurrentVideoIndex();if(typeof T.customFields.captioning!=="undefined"){if(T.customFields.captioning.indexOf(R.siteLanguage)>-1){trace("@handleMediaContentLoaded:CaptionData AVAILABLE for:"+(R.siteLanguage));R.meta.captions.available=true;s();o()}else{trace("@handleMediaContentLoaded:CaptionData UNAVAILABLE: Captions are available but not in this language")}}else{R.meta.captions.available=false;R.meta.captions.data=false}R.meta.captions.active=false;$.publish(R.EVENTS.EVENT_CAPTIONS_TOGGLE);if(typeof T.customFields.still_image!=="undefined"){if(T.customFields.still_image.toLowerCase()=="true"){R.meta.stillImage=x(T.videoStillURL)}}else{if(T.length<3000){trace("ATTENTION:custome fields describe no still image but duration is less than 3 seconds; forcing still image");R.meta.stillImage=x(T.videoStillURL)}else{R.meta.stillImage=false}}$.publish(R.EVENTS.EVENT_UPDATE_UI_FOR_NEW_CONTENT)}function d(T){R.play()}function i(T){R.pause()}function K(T){R.stop()}function e(T){R.modules.video.setVolume(1)}function S(T){R.modules.video.setVolume(0)}function a(V,T){var U=A(String(T.position));R.containers.captions.empty();$(R.meta.captions.data).webVtt(U).appendTo(R.containers.captions)}function z(T){$.publish(R.EVENTS.MEDIA_BEGIN,[T])}function I(T){if(!R.autoPlay){R.pause()}$.publish(R.EVENTS.MEDIA_CHANGE,[T])}function n(T){R.isPlaying=false;$.publish(R.EVENTS.MEDIA_COMPLETE,[T])}function M(T){$.publish(R.EVENTS.MEDIA_ERROR,[T])}function f(T){R.isPlaying=true;$.publish(R.EVENTS.MEDIA_PLAY,[T])}function l(T){R.position=T.position*1000;R.isPlaying=true;if(R.meta.captions.available&&R.meta.captions.active){$.publish(R.CAPTIONS.CAPTION_EVENT,T)}$.publish(R.EVENTS.MEDIA_PROGRESS,[T])}function b(T){R.isPlaying=false;$.publish(R.EVENTS.MEDIA_STOP,[T])}function G(ak){var az,aq,aC,ar,ag,ao,aw,W;if($(".mediaPlayerSeekContainer",R.containers.controls).length>0){if(ak<R.minWidthThreshold){$(".mediaPlayerControl.mpSEEK",R.containers.controls).css("display","none")}else{$(".mediaPlayerControl.mpSEEK",R.containers.controls).css({display:"block",width:ak})}return}else{if($(".mediaPlayerPlayPauseAnchor",R.containers.controls).length>0){W=$(".mediaPlayerPlayPauseAnchor",R.containers.controls).parents(".mediaPlayerControl");aw=$(document.createElement("div")).css("width",ak).addClass("mediaPlayerControl mpSEEK").insertAfter(W)}else{aw=$(document.createElement("div")).css("width",ak).addClass("mediaPlayerControl mpSEEK").appendTo(R.containers.controls)}az=$(document.createElement("div")).addClass("mediaPlayerSeekContainer").appendTo(aw);aq=$(document.createElement("div")).addClass("mediaPlayerCurrentTime").appendTo(az).html("00:00");aC=$(document.createElement("div")).addClass("mediaPlayerTotalTime").appendTo(az).html("00:00");ar=$(document.createElement("div")).addClass("mediaPlayerSeekBar").appendTo(az);ag=$(document.createElement("div")).addClass("mediaPlayerSeekHandleHitArea").appendTo(ar);ao=$(document.createElement("div")).addClass("mediaPlayerSeekHandle").appendTo(ag)}var T,ai,aA=false,af=false,ab,X,aa=0;(function(){$.subscribe(R.EVENTS.EVENT_UPDATE_UI_FOR_NEW_CONTENT,av);$.subscribe(R.EVENTS.MEDIA_PROGRESS,ad);$.subscribe(R.EVENTS.MEDIA_COMPLETE,ae);$.subscribe(R.EVENTS.EVENT_INPUT_END,al);$.subscribe(R.EVENTS.EVENT_REFRESH_DISPLAY_SIZE_VALUES,aF);if(Modernizr.touch){az.get(0).addEventListener("touchstart",am);az.get(0).addEventListener("touchend",au);$(document).get(0).addEventListener("touchend",function(aG){$.publish(R.EVENTS.EVENT_INPUT_END)})}else{az.on("mousedown",V);az.on("mouseup",U);$(document).on("mouseup",function(aG){$.publish(R.EVENTS.EVENT_INPUT_END,[aG])})}Z()})();function ap(aG){aA=true;ao.addClass("dragging");ag.removeClass("stopAnimateForDrag").css("left",an(aG)+"px");if(Modernizr.touch){az.get(0).addEventListener("touchmove",aj)}T=setTimeout(function(){aA=false;aE()},150)}function ax(aG){clearTimeout(T);ao.removeClass("dragging");if(aA){ag.removeClass("stopAnimateForDrag").css("left",an(aG)+"px")}if(Modernizr.touch){az.get(0).removeEventListener("touchmove",aj)}ay();aD();aA=true;af=false;ag.removeClass("stopAnimateForDrag")}function aE(){ag.addClass("stopAnimateForDrag");af=true;if(!Modernizr.touch){$(document).on("mousemove",ah)}}function ac(aG){ag.css("left",an(aG)+"px")}function aD(){ao.removeClass("dragging");af=false;if(Modernizr.touch){az.get(0).removeEventListener("touchmove",aj)}else{$(document).off("mousemove",ah)}}function al(aG,aH){aD()}function V(aG){aG.preventDefault();ap(aG.pageX)}function U(aG){aG.preventDefault();aG.stopPropagation();ax(aG.pageX)}function ah(aG){ac(aG.pageX)}function am(aG){aG.preventDefault();ap(aG.touches[0].pageX)}function au(aG){aG.preventDefault();if(aG.touches.length>0){ax(aG.touches[0].pageX)}else{ax(aG.changedTouches[0].clientX)}at(aG)}function aj(aG){ac(aG.touches[0].pageX);at(aG)}function at(aG){if(aG.stopPropagation){aG.stopPropagation()}else{aG.cancelBubble=true}}function aF(){ab=Number(ao.css("margin-left").replace("px",""))>0?Number(ao.css("margin-left").replace("px","")):ao.position().left;X=ab+(ao.width()/2)}function ae(){Z()}function ad(){if(af){return false}aq.html(Y(R.position));ag.css("left",aB(R.position)+"px")}function av(aG){Z()}function Z(){if(ao.is(":visible")){ab=Number(ao.css("margin-left").replace("px",""))>0?Number(ao.css("margin-left").replace("px","")):ao.position().left;X=ab+(ao.width()/2);ag.css("left",aB(0)+"px")}aq.html(Y(0));aC.html(Y(R.duration))}function Y(aJ){var aG=Math.floor(aJ/1000);if(aG<59){if(aG<10){aG="0"+aG}aG="00:"+aG}else{var aH=Math.floor(aG/60),aI=aG-(aH*60);if(aI<10){aI="0"+aI}if(aH<9){aG="0"+aH+":"+aI}else{aG=aH+":"+aI}}return aG}function an(aH){var aK=aH-ar.offset().left,aI=ar.width(),aJ=0;if(aK<=0){aJ=0}else{if(aK>=aI){aJ=aI}else{aJ=aK}}aa=aJ>0?aJ/aI:0;var aM=aI-ao.width(),aL=ao.width()/2,aG=aJ*aM/aI;aG+=aL;aG-=X;return aG}function aB(aI){var aH=aI/R.duration,aG=ar.width()-ao.width(),aJ=ao.width()/2,aK=aH*aG;aK+=aJ;aK-=X;return aK}function ay(){var aG=(aa*R.duration)/1000;R.seek(aG)}}function h(){var T=$(document.createElement("div")).addClass("mediaPlayerControl").appendTo(R.containers.controls),W=$(document.createElement("div")).addClass("mediaVolume volumeOn mediaPlayerButton").appendTo(T);$.subscribe(R.EVENTS.EVENT_VOLUME_TOGGLE,U);if(Modernizr.touch){T.get(0).addEventListener("touchstart",V)}else{T.on("mousedown",V)}function V(X){$.publish(R.INTENT.VOLUME_TOGGLE)}function U(){if(R.volumeOn){W.removeClass("volumeOff").addClass("volumeOn")}else{W.removeClass("volumeOn").addClass("volumeOff")}}return{target:T}}function c(){var X=$(document.createElement("div")).addClass("mediaPlayerControl").appendTo(R.containers.controls),Z=$(document.createElement("div")).addClass("mediaCC mediaPlayerButtonOff mediaPlayerButton waitForReady").appendTo(X);var W=$(document.createElement("a")).addClass("visuallyhidden").attr("href","").appendTo(X);W.on("]]]]]]]]]]click",function(aa){aa.preventDefault();V(aa)});W.html(R.accessibility.closedCaptionOn);$.subscribe(R.EVENTS.EVENT_CAPTIONS_TOGGLE,U);if(Modernizr.touch){X.get(0).addEventListener("touchstart",V)}else{X.on("mousedown",V)}function V(aa){if(Z.hasClass("waitForReady")){trace("ignoring: CC not ready");return}$.publish(R.INTENT.CAPTIONS_TOGGLE)}function U(){if(R.meta.captions.active){T()}else{Y()}}function T(){Z.removeClass("mediaPlayerButtonOff").addClass("mediaPlayerButtonOn on");W.html(R.accessibility.closedCaptionOff)}function Y(){Z.removeClass("mediaPlayerButtonOn on").addClass("mediaPlayerButtonOff");W.html(R.accessibility.closedCaptionOn)}return{target:X}}function D(){var T=$(document.createElement("div")).addClass("mediaPlayerControl").appendTo(R.containers.controls),W=$(document.createElement("div")).addClass("mediaTranscript mediaPlayerButtonOff mediaPlayerButton").appendTo(T);var V=$(document.createElement("a")).addClass("visuallyhidden").attr("href",R.meta.transcript).attr("target","_blank").appendTo(T);V.html(R.accessibility.transcript);if(Modernizr.touch){T.get(0).addEventListener("touchstart",U)}else{T.on("mousedown",U)}function U(X){$.publish(R.INTENT.GET_TRANSCRIPT)}return{target:T}}function w(){var X=$(document.createElement("div")).addClass("mediaPlayerControl").appendTo(R.containers.controls),Z=$(document.createElement("div")).addClass("mediaPlay mediaPlayerButton mediaPlayerPlayPauseAnchor").appendTo(X);var W=$(document.createElement("a")).addClass("visuallyhidden").attr("href","").appendTo(X);W.click(function(aa){aa.preventDefault();V(aa)});W.html(R.accessibility.play);$.subscribe(R.EVENTS.MEDIA_CHANGE,U);$.subscribe(R.EVENTS.MEDIA_PLAY,T);$.subscribe(R.EVENTS.MEDIA_STOP,Y);if(Modernizr.touch){X.get(0).addEventListener("touchstart",V)}else{X.on("mousedown",V)}function V(aa){if(Z.hasClass("mediaPlay")){$.publish(R.INTENT.PLAY)}else{$.publish(R.INTENT.PAUSE)}}function Y(aa){Z.removeClass("mediaPause").addClass("mediaPlay");W.html(R.accessibility.play)}function T(aa){Z.removeClass("mediaPlay").addClass("mediaPause");W.html(R.accessibility.pause)}function U(aa){Z.removeClass("mediaPause").addClass("mediaPlay");W.html(R.accessibility.play)}return{target:X}}}(function(a,b){a.mediaPlayer={player:null,defaultInterface:{single:null,playlist:null}}}(window.sb=window.sb||{},jQuery));(function(a,b){a.mediaPlayer=a.mediaPlayer||{};a.mediaPlayer.defaultInterface=a.mediaPlayer.defaultInterface||{};a.mediaPlayer.defaultInterface.playlist=function(r){var d=a.mediaPlayer.player,s=b("#media_nav"),m=r.navItemLimit,c,j,i;(function(){b.subscribe(d.EVENTS.PLAYLIST_META_DATA_LOADED,l);b.subscribe(d.EVENTS.EVENT_UPDATE_UI_FOR_NEW_CONTENT,k)})();function l(){p();g();e()}function k(){var t=b("li.nav_clicked",s);if(t.index()!=d.currentVideoIndex){t.removeClass("nav_clicked");b("li:eq("+d.currentVideoIndex+")",s).addClass("nav_clicked")}}function h(t){d.setVideoByIndex(t.parent().index())}function f(){d.previous()}function o(){d.next()}function e(){var t=b("#flashContent");if(Modernizr.touch){a.touch.bindSwipe(t,a.touch.gestures.SWIPE_RIGHT,f);a.touch.bindSwipe(t,a.touch.gestures.SWIPE_LEFT,o)}}function p(){var y,x,t,u,z,w,v;if(m>0){v=d.playlistMetaData.videoCount>=m?m:d.playlistMetaData.videoCount}else{v=d.playlistMetaData.videoCount}for(y=0;y<v;y++){x=d.playlistMetaData.videos[y];t=y==d.currentVideoIndex?b(document.createElement("li")).addClass("nav_clicked").appendTo(s):b(document.createElement("li")).appendTo(s);u=b(document.createElement("a")).attr("href","#").appendTo(t);z=b(document.createElement("img")).attr("src",x.thumbnailURL).attr("alt",x.displayName).appendTo(u);w=b(document.createElement("p")).addClass("media_name").html(x.shortDescription).appendTo(u);u.on("click",function(A){A.preventDefault();h(b(A.currentTarget))})}}function g(){c=b(".media_player").find(".scrollable");c.scrollable();j=c.data("scrollable");q()}function q(){if(!c){return}if(!t(i)){return}i=n();c.find("#media_nav").removeAttr("style");c.data("scrollable").getConf().size=i.size;c.data("scrollable").getConf().vertical=i.vertical;c.scrollable().reload().seekTo(c.find(".selected").index());function t(w){if(!w){return true}var v=n();for(var u in w){if(w[u]!=v[u]){return true}}return false}}function n(){var t={breakPoint:"L",size:4,vertical:false};if(a.rwd.matchViewport("L")){t.breakPoint="L";t.size=4;t.vertical=true}else{if(a.rwd.matchViewport("M")){t.breakPoint="M";t.size=3;t.vertical=false}else{if(a.rwd.matchViewport("S")){t.breakPoint="S";t.size=3;t.vertical=false}else{if(a.rwd.matchViewport("XS")){t.breakPoint="XS";t.size=5;t.vertical=false}}}}return t}a.rwd.onDelayedResize(function(){q()},true)}}(window.sb=window.sb||{},jQuery));